# rest_to_go

Телеграмм-бот, который помогает выбрать место для встречи.

Процесс состоит из трех этапов:
1. Сначала вы забиваете в бота все локации, с которых вы начинаете (`/add_source`)
2. Затем забиваете разные варианты, куда хотите прийти (`/add_destination`)
3. Бот выбирает один вариант из второго пункта, в котором вы все окажетесь
  быстрее всего (минимальное максимальное время) (`/best`).

При этом состояние бота общее для всех его пользователей: каждый может
параллельно добавлять свои любимые места, а бот поможет выбрать самое удобное.

> Доступ в бота по whitelist.

> В Телеграме отображается список всех доступных команд бота с описанием.

# Запуск

> Тестировалось на Python 3.13.0

Сначала клонируем себе проект:

```bash
git clone git@github.com:alino3ka/rest_to_go.git
```

И ставим себе зависимости (лучше в виртуальное окружение):

```bash
python3 -m venv venv
./venv/bin/pip install -r requirements.txt
```

После всего этого нам надо получить два токена:
- Токен от телеграм бота: пишем [@BotFather](https://t.me/BotFather),
  запускаем `/newbot` и отвечаем на его вопросы.
- API ключ от OpenRouterService: он будет в личном кабинете https://account.heigit.org/,
  зарегистрироваться там можно через github

Потом нам нужно сконфигурировать бота. Конфигурируется он либо через переменные
окружения, либо через файл `.env`. Файл выглядит примерно так:

```
BOT_TOKEN=12345
OPENROUTESERVICE_TOKEN=12345
STORAGE_PATH=.storage
INITIAL_USER_ID=12345
LOG_LEVEL=INFO
```

- `BOT_TOKEN` --- тут надо указать токен от телеграм бота
- `OPENROUTESERVICE_TOKEN` --- тут API ключ от сервиса карт
- `STORAGE_PATH` --- по этому пути бот будет хранить информацию,
  которая сохраняется между перезапусками
- `INITIAL_USER_ID` --- ID пользователя, который будет изначально
  помещен в whitelist (получить его можно написав [@userinfobot](https://t.me/userinfobot))
- `LOG_LEVEL` --- с какой детальностью логировать действия (`DEBUG`, `INFO`, `WARN`, `ERROR`)

Чтобы запустить бота достаточно выполнить команду:

```bash
./venv/bin/python bot.py
```

Также лог действий можно перенаправить в файл через стандартные средства
оболочки (`> file.log`).

# Авторы

- Шавалиева Алина Рафаэлевна (367628)
- Москалева Екатерина Александровна (466768)
